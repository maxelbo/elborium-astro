---
import BaseLayout from "@/layouts/BaseLayout.astro";
import ProjectsList from "@/components/ProjectsList.astro";

const allProjects = await Astro.glob("../pages/projects/*.mdx");
const pubProjects = allProjects.filter((project) => {
  return !project.frontmatter.archived && !project.frontmatter.private;
});
pubProjects.sort((a, b) => {
  return a.frontmatter.order - b.frontmatter.order;
});

const { pageTitle } = Astro.props;
const { projectListTitle } = Astro.props;
---

<BaseLayout pageTitle={pageTitle}>
  <slot />
  <ProjectsList projectListTitle={projectListTitle} projects={pubProjects} />
</BaseLayout>
